<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="using:VsCodeDebugGen.Desktop.ViewModels"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="700"
        x:Class="VsCodeDebugGen.Desktop.Views.Dialogs.PreviewDialog"
        x:DataType="vm:PreviewDialogViewModel"
        Title="配置预览"
        Width="900"
        Height="700"
        MinWidth="600"
        MinHeight="500"
        WindowStartupLocation="CenterOwner"
        CanResize="True">

    <Design.DataContext>
        <vm:PreviewDialogViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="*,Auto">

        <!-- 内容区域 -->
        <TabControl Grid.Row="0" Margin="16">

            <!-- Launch.json 标签页 -->
            <TabItem Header="launch.json">
                <Grid RowDefinitions="Auto,*">

                    <!-- 操作按钮 -->
                    <Border Grid.Row="0"
                            Background="{StaticResource CardBackgroundBrush}"
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="0,0,0,1"
                            Padding="8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button Content="复制到剪贴板"
                                    Command="{Binding CopyLaunchCommand}"
                                    Classes="SecondaryButton" />
                        </StackPanel>
                    </Border>

                    <!-- JSON 内容 -->
                    <Border Grid.Row="1"
                            Background="{StaticResource SurfaceBrush}"
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Margin="0,8,0,0">
                        <ScrollViewer HorizontalScrollBarVisibility="Auto"
                                      VerticalScrollBarVisibility="Auto">
                            <TextBox Text="{Binding LaunchJson}"
                                     IsReadOnly="True"
                                     FontFamily="Consolas,Courier New,monospace"
                                     FontSize="12"
                                     AcceptsReturn="True"
                                     TextWrapping="NoWrap"
                                     BorderThickness="0"
                                     Background="Transparent"
                                     Padding="12" />
                        </ScrollViewer>
                    </Border>

                </Grid>
            </TabItem>

            <!-- Tasks.json 标签页 -->
            <TabItem Header="tasks.json">
                <Grid RowDefinitions="Auto,*">

                    <!-- 操作按钮 -->
                    <Border Grid.Row="0"
                            Background="{StaticResource CardBackgroundBrush}"
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="0,0,0,1"
                            Padding="8">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <Button Content="复制到剪贴板"
                                    Command="{Binding CopyTasksCommand}"
                                    Classes="SecondaryButton" />
                        </StackPanel>
                    </Border>

                    <!-- JSON 内容 -->
                    <Border Grid.Row="1"
                            Background="{StaticResource SurfaceBrush}"
                            BorderBrush="{StaticResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Margin="0,8,0,0">
                        <ScrollViewer HorizontalScrollBarVisibility="Auto"
                                      VerticalScrollBarVisibility="Auto">
                            <TextBox Text="{Binding TasksJson}"
                                     IsReadOnly="True"
                                     FontFamily="Consolas,Courier New,monospace"
                                     FontSize="12"
                                     AcceptsReturn="True"
                                     TextWrapping="NoWrap"
                                     BorderThickness="0"
                                     Background="Transparent"
                                     Padding="12" />
                        </ScrollViewer>
                    </Border>

                </Grid>
            </TabItem>

        </TabControl>

        <!-- 底部按钮 -->
        <Border Grid.Row="1"
                Background="{StaticResource CardBackgroundBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,1,0,0"
                Padding="16">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Spacing="8">

                <Button Content="确定"
                        Command="{Binding OkCommand}"
                        Classes="PrimaryButton"
                        Width="100"
                        IsDefault="True" />

                <Button Content="取消"
                        Command="{Binding CancelCommand}"
                        Classes="SecondaryButton"
                        Width="100"
                        IsCancel="True" />

            </StackPanel>
        </Border>

    </Grid>

</Window>
